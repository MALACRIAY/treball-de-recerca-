[gd_scene load_steps=43 format=3 uid="uid://brvlc7gprp6ia"]

[ext_resource type="Script" path="res://scenes/scripts/level_2.gd" id="1_u46bd"]
[ext_resource type="Texture2D" uid="uid://botpdj56wpbxt" path="res://images/propias/Mapa_assets/side_picker/mapa.png" id="1_wd05n"]
[ext_resource type="Texture2D" uid="uid://cb5vadhcbxxvm" path="res://images/propias/Personajes/Personas/Choose/Hombre_Blanco_M_i_R.png" id="3_cvvd3"]
[ext_resource type="Texture2D" uid="uid://iielbf0g51rf" path="res://images/propias/Personajes/Personas/Choose/Hombre_Negro_M_i_R.png" id="4_igsyh"]
[ext_resource type="Texture2D" uid="uid://bn2eouddp3dos" path="res://images/propias/Personajes/Personas/Choose/Mujer_Morena_B_i_N.png" id="5_qjifm"]
[ext_resource type="Texture2D" uid="uid://dsabrrhdpoq6q" path="res://images/propias/Personajes/Personas/Choose/Mujer_Rubia_B_i_N.png" id="6_bky80"]
[ext_resource type="Texture2D" uid="uid://du51jxasbphto" path="res://images/propias/Mapa_assets/Puntuacion/guion.png" id="7_h6wl8"]
[ext_resource type="PackedScene" uid="uid://c28g1ir66ceby" path="res://scenes/Levels/objects/flower.tscn" id="16_xb2xd"]
[ext_resource type="Texture2D" uid="uid://w5j4an4e7x4a" path="res://images/propias/Mapa_assets/side_picker/cesta.png" id="17_ht834"]
[ext_resource type="Texture2D" uid="uid://nths2xqy56le" path="res://images/propias/Mapa_assets/side_picker/flowers/flor_red_1.png" id="18_wyub0"]
[ext_resource type="Texture2D" uid="uid://cewhcupmw6dhu" path="res://images/propias/Mapa_assets/side_picker/flowers/flor_lila_1.png" id="19_bf1th"]

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_fe8ip"]
load_path = "res://.godot/imported/0.png-b4c3dd8b680ef45bcf853258ec9f716d.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_gsqy5"]
load_path = "res://.godot/imported/1.png-de9da8d9542734f228686e77a29363e5.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_yp22c"]
load_path = "res://.godot/imported/2.png-6f69e4b74e251e83f79b36ec87a50b4a.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_53vtk"]
load_path = "res://.godot/imported/3.png-34dafb3be9c739a485a26c688a43f653.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_5hue2"]
load_path = "res://.godot/imported/4.png-4903329703c5356d831d6f8d4852dbf1.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_nq5pl"]
load_path = "res://.godot/imported/5.png-2b8bc43bf2682bcadafa45a524a5ed88.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_q3tix"]
load_path = "res://.godot/imported/6.png-a1c223d767ce9b34c6b42f0a3f463936.ctex"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_2pkpa"]
load_path = "res://.godot/imported/7.png-7e5350fd06856bd78b11bf99240e113a.ctex"

[sub_resource type="SpriteFrames" id="SpriteFrames_diddx"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_fe8ip")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_gsqy5")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_yp22c")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_53vtk")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_5hue2")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_nq5pl")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_q3tix")
}, {
"duration": 1.0,
"texture": SubResource("CompressedTexture2D_2pkpa")
}],
"loop": false,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_l7dx2"]
atlas = SubResource("CompressedTexture2D_53vtk")
region = Rect2(0, 0, 40, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_7m6tp"]
atlas = SubResource("CompressedTexture2D_yp22c")
region = Rect2(0, 0, 40, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_a2pa4"]
atlas = SubResource("CompressedTexture2D_gsqy5")
region = Rect2(0, 0, 40, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_14rk2"]
atlas = SubResource("CompressedTexture2D_fe8ip")
region = Rect2(0, 0, 40, 40)

[sub_resource type="SpriteFrames" id="SpriteFrames_doajr"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_l7dx2")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7m6tp")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_a2pa4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_14rk2")
}, {
"duration": 1.0,
"texture": null
}],
"loop": false,
"name": &"default",
"speed": 1.0
}]

[sub_resource type="AtlasTexture" id="AtlasTexture_vkjdn"]
atlas = ExtResource("3_cvvd3")
region = Rect2(0, 0, 135, 202)

[sub_resource type="AtlasTexture" id="AtlasTexture_7hlga"]
atlas = ExtResource("3_cvvd3")
region = Rect2(0, 202, 135, 202)

[sub_resource type="AtlasTexture" id="AtlasTexture_uwdpo"]
atlas = ExtResource("4_igsyh")
region = Rect2(0, 0, 134, 202)

[sub_resource type="AtlasTexture" id="AtlasTexture_84dhx"]
atlas = ExtResource("4_igsyh")
region = Rect2(0, 202, 134, 202)

[sub_resource type="AtlasTexture" id="AtlasTexture_xpkm7"]
atlas = ExtResource("5_qjifm")
region = Rect2(0, 202, 134, 202)

[sub_resource type="AtlasTexture" id="AtlasTexture_ibwjd"]
atlas = ExtResource("5_qjifm")
region = Rect2(0, 0, 134, 202)

[sub_resource type="AtlasTexture" id="AtlasTexture_jw122"]
atlas = ExtResource("6_bky80")
region = Rect2(0, 0, 135, 202)

[sub_resource type="AtlasTexture" id="AtlasTexture_dnb2m"]
atlas = ExtResource("6_bky80")
region = Rect2(0, 202, 135, 202)

[sub_resource type="SpriteFrames" id="SpriteFrames_nflwc"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_vkjdn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7hlga")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_uwdpo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_84dhx")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_xpkm7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ibwjd")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jw122")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_dnb2m")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yr2db"]
size = Vector2(134, 63.4088)

[sub_resource type="Animation" id="Animation_uyn72"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(-44, 81)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.0]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../problem_solver:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [false]
}

[sub_resource type="Animation" id="Animation_utgmt"]
resource_name = "bot_left"
length = 1.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.5, 0.6, 0.8, 1, 1.2, 1.4),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(574, 400), Vector2(531, 334), Vector2(456, 282), Vector2(401, 254), Vector2(339, 265), Vector2(305.5, 319), Vector2(266.25, 389.5), Vector2(233.125, 468.25), Vector2(215, 554)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1.4),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [-22.5147, -34.9066]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../problem_solver:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 1.4),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}

[sub_resource type="Animation" id="Animation_8yqn4"]
resource_name = "bot_right"
length = 1.5
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.2, 0.4, 0.6, 0.8, 1, 1.2),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(574, 400), Vector2(622, 366), Vector2(716, 341), Vector2(803, 359), Vector2(852, 412), Vector2(890, 461), Vector2(886, 534)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1.2),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [22.0522, 34.9066]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../problem_solver:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 1.4),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}

[sub_resource type="Animation" id="Animation_a5gli"]
resource_name = "top_left"
length = 1.8
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.8, 1, 1.1, 1.2, 1.3, 1.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(-44, 93), Vector2(321, 95), Vector2(424, 103), Vector2(485, 120), Vector2(526, 150), Vector2(549, 200), Vector2(574, 400)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.8, 1.3, 1.8),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0.0, 10.8559, 15.5422, 22.0522]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../problem_solver:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 1.8),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}

[sub_resource type="Animation" id="Animation_m1004"]
resource_name = "top_right"
length = 1.8
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.7, 1, 1.1, 1.2, 1.3, 1.5, 1.8),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(1214, 96), Vector2(841, 97), Vector2(717, 94), Vector2(657, 114), Vector2(614, 147), Vector2(597, 211), Vector2(587, 291), Vector2(574, 400)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:rotation")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.8, 1.4, 1.8),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0.0, -10.9432, -15.5334, -22.5147]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("../problem_solver:visible")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 1.8),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_1g1nu"]
_data = {
"RESET": SubResource("Animation_uyn72"),
"bot_left": SubResource("Animation_utgmt"),
"bot_right": SubResource("Animation_8yqn4"),
"top_left": SubResource("Animation_a5gli"),
"top_right": SubResource("Animation_m1004")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_275ys"]
size = Vector2(48, 55)

[node name="side_picker" type="Node2D"]
script = ExtResource("1_u46bd")
flowers_max = 5
flower_scene = ExtResource("16_xb2xd")

[node name="Control" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 1150.0
offset_bottom = 652.0

[node name="TextureRect" type="TextureRect" parent="Control"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -11.0
offset_top = 70.0
offset_right = 15.0
offset_bottom = -109.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("1_wd05n")

[node name="Mapa" type="Sprite2D" parent="Control/TextureRect"]
position = Vector2(624.5, 545.25)
scale = Vector2(21.6724, 12.125)
texture = ExtResource("1_wd05n")
region_enabled = true
region_rect = Rect2(172, 137, 58, 12)

[node name="Mapa2" type="Sprite2D" parent="Control/TextureRect"]
position = Vector2(615.5, -30)
scale = Vector2(43.5, 8.75)
texture = ExtResource("1_wd05n")
region_enabled = true
region_rect = Rect2(181, 9, 30, 15)

[node name="countdown" type="Node2D" parent="."]

[node name="Timer" type="Timer" parent="countdown"]

[node name="Hidden_timer" type="Timer" parent="countdown"]
one_shot = true
autostart = true

[node name="Points" type="AnimatedSprite2D" parent="countdown"]
position = Vector2(571, 44)
scale = Vector2(3, 3)
sprite_frames = SubResource("SpriteFrames_diddx")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="countdown"]
position = Vector2(576, 247)
scale = Vector2(3, 3)
sprite_frames = SubResource("SpriteFrames_doajr")
autoplay = "default"

[node name="Character_sprite" type="AnimatedSprite2D" parent="."]
position = Vector2(574.5, 468)
sprite_frames = SubResource("SpriteFrames_nflwc")

[node name="barra" type="Area2D" parent="."]
position = Vector2(574, 462)
rotation = -0.261799
scale = Vector2(1.23, 1.23)

[node name="Guion" type="Sprite2D" parent="barra"]
scale = Vector2(8, 4)
texture = ExtResource("7_h6wl8")

[node name="CollisionShape2D" type="CollisionShape2D" parent="barra"]
position = Vector2(9.15527e-05, -13.7044)
shape = SubResource("RectangleShape2D_yr2db")

[node name="Animaciones" type="AnimationPlayer" parent="."]
root_node = NodePath("../Flower")
libraries = {
"": SubResource("AnimationLibrary_1g1nu")
}

[node name="SpawnTimer" type="Timer" parent="."]
wait_time = 4.0
one_shot = true
autostart = true

[node name="problem_solver" type="Node2D" parent="."]
visible = false

[node name="Flower" parent="." instance=ExtResource("16_xb2xd")]
position = Vector2(-44, 81)

[node name="cesta_red" type="Area2D" parent="."]
position = Vector2(873, 549)
scale = Vector2(2, 2)

[node name="Cesta_red" type="Sprite2D" parent="cesta_red"]
position = Vector2(3.725, -3.975)
rotation = -0.0698132
scale = Vector2(1.5, 1.5)
texture = ExtResource("17_ht834")
region_enabled = true
region_rect = Rect2(7, 25, 49, 34)

[node name="FlorRed1" type="Sprite2D" parent="cesta_red/Cesta_red"]
position = Vector2(4.85, -1.01667)
rotation = 0.270526
scale = Vector2(0.7, 0.7)
texture = ExtResource("18_wyub0")

[node name="CollisionShape2D" type="CollisionShape2D" parent="cesta_red"]
visible = false
position = Vector2(5, -7.5)
shape = SubResource("RectangleShape2D_275ys")

[node name="cesta_purple" type="Area2D" parent="."]
position = Vector2(217, 553)
scale = Vector2(2, 2)

[node name="CollisionShape2D" type="CollisionShape2D" parent="cesta_purple"]
visible = false
position = Vector2(5, -7.5)
shape = SubResource("RectangleShape2D_275ys")

[node name="Cesta_lila" type="Sprite2D" parent="cesta_purple"]
position = Vector2(6.18, 0)
rotation = 0.0698132
scale = Vector2(1.5, 1.5)
texture = ExtResource("17_ht834")
region_enabled = true
region_rect = Rect2(9, 25, 48, 34)

[node name="FlorLila1" type="Sprite2D" parent="cesta_purple/Cesta_lila"]
position = Vector2(2.54667, -1.33333)
rotation = 0.349066
scale = Vector2(0.7, 0.7)
texture = ExtResource("19_bf1th")

[connection signal="animation_finished" from="Animaciones" to="." method="_on_animation_finished"]
[connection signal="timeout" from="SpawnTimer" to="." method="_on_timeout"]
[connection signal="body_entered" from="cesta_red" to="." method="_on_cesta_red_body_entered"]
[connection signal="body_entered" from="cesta_purple" to="." method="_on_cesta_purple_body_entered"]
